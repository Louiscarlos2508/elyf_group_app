# Story 3.2: Orange Money Logic Validation

This story focuses on ensuring that all Orange Money transactions are validated against the current liquidity (CASH and SIM balances) to prevent over-drawn positions and data inconsistency.

## User Review Required

> [!IMPORTANT]
> This story requires access to the `LiquidityRepository` to fetch today's checkpoints. We must ensure that the "current" balance is accurately tracked across multiple transactions in the same session.

## Proposed Changes

### Orange Money Feature

#### [MODIFY] [orange_money_controller.dart](file:///home/carlos-simpore/StudioProjects/elyf_group_app/lib/features/orange_money/application/controllers/orange_money_controller.dart)
- Refine `createTransactionFromInput` to ensure liquidity checks are robust.
- Add unit tests to verify that Cash-In and Cash-Out are blocked if balances are insufficient.

## Verification Plan

### Automated Tests
- Run `flutter test test/features/orange_money/application/controllers/orange_money_controller_test.dart`.
- Verify 100% coverage for the validation logic.

### Manual Verification
- Attempt to perform a Cash-In exceeding the SIM balance.
- Attempt to perform a Cash-Out exceeding the CASH balance.
